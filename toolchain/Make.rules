#
# Output dist version
#
.phony: distversion
distversion:
	@echo $(VERSION)

#
# Easy way to build unit tests without running them
# 
.phony: tests
tests: $(check_PROGRAMS)

#
# rule for compiling aesop .ae files
#
.ae.o: 
	$(AM_V_GEN)$(AECC) -o $@ $< -- $(CFLAGS)

.hae.h:
	$(AM_V_GEN)$(AECC) -o $@ $< -j -- $(CFLAGS)

#
# rules for .ae dependencies
#

%.ae.d: %.ae
	mkdir -p $(call dirname,$@)
	$(AM_V_GEN)CC="$(CC)" CFLAGS="$(CFLAGS)" $(srcdir)/maint/depend-ae.sh $(call dirname,$@) $< > $@

%.hae.d: %.hae
	mkdir -p $(call dirname,$@)
	$(AM_V_GEN)CC="$(CC)" CFLAGS="$(CFLAGS)" $(srcdir)/maint/depend-ae.sh $(call dirname,$@) $< > $@

